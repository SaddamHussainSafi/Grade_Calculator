<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Activities</title>

     <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    h1 {
      margin-top: 40px;
    }
    .container {
      margin: 20px auto;
      max-width: 600px;
    }
    input, button {
      margin: 5px;
      padding: 5px 10px;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 80%;
    }
    th, td {
      border: 1px solid black;
      padding: 8px;
    }
    #ERR {
      color: red;
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>Grade Activities</h1>

<!-- Action Buttons and Inputs -->
<div>
    <div>
        <button onclick="addTask()">Add Activity</button>
        <input type="text" id="activity" placeholder="Enter activity name">
        <input type="number" id="Weight" placeholder="Enter Weight">
    </div>

    <div>
        <button onclick="addGrade()">Add Grade</button>
        <input type="number" id="grade" placeholder="Enter grade">
        <input type="number" id="activityNo" placeholder="Enter activity no">
    </div>

    <div>
        <button onclick="deleteTask()">Delete Last Activity</button>
    </div>

    <div>
        <button onclick="deleteSpecificTask()">Delete Activity</button>
        <input type="number" id="deleteActivityNo" placeholder="Enter activity no">
    </div>
</div>

<!-- Table to Display Activities -->
<table id="theTable">
    <thead>
        <tr>
            <th>No</th>
            <th>Activity</th>
            <th>Weight</th>
            <th>Grade</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<!-- Error Message Output -->
<p id="ERR"></p>

<script>
    let noActivity = 0;

    function addTask() {
        let ACT = document.getElementById("activity");
        let activity = ACT.value;
        let ERR = document.getElementById("ERR");

        if (activity == "") {
            ERR.innerHTML = "Error Message: Activity name is rejected";
            return;
        } else {
            ERR.innerHTML = "";
        }

        let PER = document.getElementById("Weight");
        let Weight = parseInt(PER.value);

        if (isNaN(Weight) || Weight < 1 || Weight > 100) {
            ERR.innerHTML = "Error Message: Weight is rejected";
            return;
        }

        let TR = document.createElement("tr");

        let TD1 = document.createElement("td");
        let TXT1 = document.createTextNode(++noActivity);
        TD1.appendChild(TXT1);
        TR.appendChild(TD1);

        let TD2 = document.createElement("td");
        let TXT2 = document.createTextNode(activity);
        TD2.appendChild(TXT2);
        TR.appendChild(TD2);

        let TD3 = document.createElement("td");
        let TXT3 = document.createTextNode(Weight);
        TD3.appendChild(TXT3);
        TR.appendChild(TD3);

        let TD4 = document.createElement("td");
        let TXT4 = document.createTextNode("");
        TD4.appendChild(TXT4);
        TR.appendChild(TD4);

        document.getElementById("theTable").getElementsByTagName("tbody")[0].appendChild(TR);

        ACT.value = "";
        PER.value = "";
    }

    function addGrade() {
        let ERR = document.getElementById("ERR");

        if (noActivity == 0) {
            ERR.innerHTML = "Error Message: No activities found";
            return;
        }

        let GRD = document.getElementById("grade");
        let grade = parseInt(GRD.value);

        let ACTNO = document.getElementById("activityNo");
        let activityNo = parseInt(ACTNO.value);

        if (isNaN(activityNo) || activityNo < 1 || activityNo > noActivity) {
            ERR.innerHTML = "Error Message: Activity no is rejected";
            return;
        } else {
            ERR.innerHTML = "";
        }

        let TR = document.getElementsByTagName("tr");
        let TD = TR[activityNo].getElementsByTagName("td");
        let TXT = document.createTextNode(grade);

        if (TD[3].hasChildNodes()) {
            TD[3].removeChild(TD[3].firstChild);
        }
        TD[3].appendChild(TXT);

        ACTNO.value = "";
        GRD.value = "";
    }

    function deleteTask() {
        let ERR = document.getElementById("ERR");

        if (noActivity === 0) {
            ERR.innerHTML = "Error Message: No more activities to remove.";
            return;
        }

        let TBL = document.getElementById("theTable").getElementsByTagName("tbody")[0];
        TBL.deleteRow(noActivity - 1);
        noActivity--;

        ERR.innerHTML = "";
    }

    function deleteSpecificTask() {
        let ERR = document.getElementById("ERR");

        if (noActivity === 0) {
            ERR.innerHTML = "Error Message: No activities found to delete.";
            return;
        }

        let deleteActivityNo = parseInt(document.getElementById("deleteActivityNo").value);

        if (isNaN(deleteActivityNo) || deleteActivityNo < 1 || deleteActivityNo > noActivity) {
            ERR.innerHTML = "Error Message: Activity no is invalid.";
            return;
        }

        let TBL = document.getElementById("theTable").getElementsByTagName("tbody")[0];
        TBL.deleteRow(deleteActivityNo - 1);

        for (let i = deleteActivityNo - 1; i < noActivity - 1; i++) {
            TBL.rows[i].cells[0].innerText = i + 1;
        }

        noActivity--;

        ERR.innerHTML = "";
        document.getElementById("deleteActivityNo").value = "";
    }
</script>

</body>
</html>
